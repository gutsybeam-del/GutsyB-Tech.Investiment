<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Achiever Portal | Premium + Earnings</title>
    <script src="https://checkout.flutterwave.com/v3.js"></script>
    <style>
        :root { --primary: #800000; --navy: #001f3f; --gold: #daa520; --bg: #f0f2f5; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; height: 100vh; }
        
        /* Top Navigation */
        .top-nav { background: var(--primary); color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid var(--gold); }
        .logo-area { font-weight: 800; font-size: 20px; }

        /* Sidebar */
        .main-wrapper { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 250px; background: var(--navy); color: white; display: flex; flex-direction: column; padding: 20px 0; }
        .sidebar a { padding: 15px 25px; color: #cbd5e1; text-decoration: none; display: block; cursor: pointer; border-left: 4px solid transparent; }
        .sidebar a:hover, .sidebar a.active-link { background: #1e293b; color: white; border-left-color: var(--gold); }

        /* Content Area */
        .content { flex: 1; padding: 30px; overflow-y: auto; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-bottom: 25px; }
        .screen { display: none; }
        .active-screen { display: block; animation: fadeIn 0.3s ease; }

        /* Ad Slot Styling */
        .ad-banner { background: #eee; border: 1px dashed #999; text-align: center; padding: 10px; margin: 10px 0; border-radius: 8px; font-size: 12px; color: #666; }
        .sponsored-btn { background: #2563eb; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; width: 100%; font-weight: bold; }

        /* Buttons */
        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; }
        .btn { padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; }
        .btn-save { background: var(--primary); color: white; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="top-nav">
        <div class="logo-area">GREAT ACHIEVER PORTAL</div>
        <div id="user-tag" style="font-size: 14px;">Guest</div>
    </div>

    <div class="main-wrapper">
        <div class="sidebar" id="main-sidebar" style="display: none;">
            <a onclick="showScreen('s-home')">üè† Home Dashboard</a>
            <a onclick="showScreen('s-results')">üìä View Results</a>
            <a onclick="showScreen('s-fees')">üí≥ School Fees</a>
            <a onclick="showScreen('s-profile')">üë§ My Profile</a>
            <a onclick="logout()" style="color: #ff4444; margin-top: auto;">Logout</a>
        </div>

        <div class="content">
            <div id="login-screen" class="screen active-screen card" style="max-width: 400px; margin: 50px auto;">
                <h2 style="text-align: center; color: var(--primary);">Login</h2>
                <input type="text" id="login-id" placeholder="Admission Number">
                <input type="password" id="login-pass" placeholder="Password">
                <button class="btn btn-save" onclick="handleLogin()">Login to Portal</button>
                
                <div class="ad-banner">
                    <p>ADVERTISEMENT</p>
                    </div>
                
                <p style="text-align: center; margin-top: 20px; font-size: 11px; color: #666; cursor: pointer;" onclick="showAdminLogin()">Staff Access Only</p>
            </div>

            <div id="admin-screen" class="screen card">
                <h2>Admin Management</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <h3>Enroll Student</h3>
                        <input type="text" id="reg-name" placeholder="Full Name">
                        <input type="text" id="reg-id" placeholder="Admission ID">
                        <input type="text" id="reg-pass" placeholder="Password" value="1234">
                        <button class="btn btn-save" onclick="register()">Register Student</button>
                    </div>
                    <div>
                        <h3>Upload Results</h3>
                        <select id="res-select"><option>Select Student</option></select>
                        <input type="number" id="res-math" placeholder="Maths Score">
                        <input type="number" id="res-eng" placeholder="English Score">
                        <button class="btn btn-save" onclick="saveResult()">Save Scores</button>
                    </div>
                </div>
            </div>

            <div id="s-home" class="screen">
                <div class="card" style="background: linear-gradient(to right, var(--navy), #1e293b); color: white;">
                    <h2 id="display-name">...</h2>
                    <p id="display-class">Admission No: ...</p>
                </div>
                
                <div class="card">
                    <h3>üí° Student Bonus Task</h3>
                    <p>Click the link below to verify your account and support the school. (Earns Admin Profit)</p>
                    <button class="sponsored-btn" onclick="openSponsoredLink()">Verify Account & Support School</button>
                </div>

                <div class="card">
                    <h3>Notice Board</h3>
                    <p>üì¢ Check your results in the Results tab. Ensure fees are paid.</p>
                </div>
            </div>

            <div id="s-results" class="screen card">
                <h3>Academic Report Card</h3>
                <p style="color:red; font-size: 12px;">*Make sure you have clicked the Verify button on Home page to see full grades.</p>
                <table width="100%" border="1" cellpadding="10" style="border-collapse: collapse;">
                    <tr style="background: #f8f9fa;"><th>Subject</th><th>Score</th><th>Grade</th></tr>
                    <tr><td>Mathematics</td><td id="m-score">-</td><td id="m-grade">-</td></tr>
                    <tr><td>English Language</td><td id="e-score">-</td><td id="e-grade">-</td></tr>
                </table>
            </div>
            
            <div class="ad-banner" id="footer-ad" style="display:none;">
                <p>SPONSORED CONTENT</p>
                </div>
        </div>
    </div>

    <script>
        let students = JSON.parse(localStorage.getItem('GAIC_DATA')) || [];
        let loggedUser = null;

        // --- PROFIT SETTINGS ---
        const SPONSORED_URL = "https://shrinkme.io/st/your_id"; // Replace with your Ad link

        function openSponsoredLink() {
            window.open(SPONSORED_URL, '_blank');
            alert("Verification started! You can now check your results.");
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active-screen'));
            document.getElementById(id).classList.add('active-screen');
        }

        function handleLogin() {
            const id = document.getElementById('login-id').value;
            const pass = document.getElementById('login-pass').value;
            const user = students.find(s => s.id === id && s.pass === pass);

            if(user) {
                loggedUser = user;
                document.getElementById('main-sidebar').style.display = 'flex';
                document.getElementById('footer-ad').style.display = 'block';
                loadStudentData();
                showScreen('s-home');
            } else { alert("Invalid Credentials"); }
        }

        function loadStudentData() {
            document.getElementById('display-name').innerText = loggedUser.name;
            document.getElementById('display-class').innerText = "ID: " + loggedUser.id;
            document.getElementById('m-score').innerText = loggedUser.math || '-';
            document.getElementById('e-score').innerText = loggedUser.eng || '-';
        }

        function logout() { location.reload(); }

        // --- ADMIN FUNCTIONS (Key: 777) ---
        function showAdminLogin() { 
            const p = prompt("Enter Admin Key:");
            if(p === "777") { showScreen('admin-screen'); }
        }

        function register() {
            const name = document.getElementById('reg-name').value;
            const id = document.getElementById('reg-id').value;
            const pass = document.getElementById('reg-pass').value;
            students.push({ name, id, pass, paid: false, math: '-', eng: '-' });
            localStorage.setItem('GAIC_DATA', JSON.stringify(students));
            alert("Registered!");
        }

        function saveResult() {
            const id = document.getElementById('res-select').value;
            const user = students.find(s => s.id === id);
            user.math = document.getElementById('res-math').value;
            user.eng = document.getElementById('res-eng').value;
            localStorage.setItem('GAIC_DATA', JSON.stringify(students));
            alert("Results Saved!");
        }
    </script>
</body>
</html>
